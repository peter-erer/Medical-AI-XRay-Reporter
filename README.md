# åŸºäº R2Gen çš„åŒ»ç–—å½±åƒæŠ¥å‘Šç”Ÿæˆç³»ç»Ÿ (X-Ray Report Generation)

æœ¬é¡¹ç›®åŸºäº **R2Gen** æ¶æ„å®ç°äº†èƒ¸éƒ¨ X å…‰ç‰‡çš„è‡ªåŠ¨åŒ–è¯Šæ–­æŠ¥å‘Šç”Ÿæˆã€‚é€šè¿‡å¼•å…¥ **DenseNet éª¨å¹²ç½‘ç»œ**ã€**ç›¸ä¼¼ç—…ä¾‹æ£€ç´¢å¢å¼º (Retrieval-RAG)** ä»¥åŠ **Self-Critical å¼ºåŒ–å­¦ä¹ ä¼˜åŒ–**ï¼Œæ˜¾è‘—æå‡äº†ç”Ÿæˆçš„ä¸´åºŠè§„èŒƒæ€§ä¸æŒ‡æ ‡è¡¨ç°ã€‚

## ğŸŒŸ æ ¸å¿ƒæ”¹è¿›ç‚¹
* **éª¨å¹²ç½‘ç»œå‡çº§**ï¼šå°†åŸå§‹ ResNet-101 æ›¿æ¢ä¸º **DenseNet-121**ï¼Œé€šè¿‡ç‰¹å¾é‡ç”¨æœºåˆ¶æ•æ‰åŒ»å­¦å›¾åƒä¸­æ›´ç»†å¾®çš„çº¹ç†ç‰¹å¾ã€‚
* **æ£€ç´¢å¢å¼ºç”Ÿæˆ (Retrieval RAG)**ï¼šæ¨¡æ‹ŸåŒ»ç”Ÿä¸´åºŠè¯Šæ–­è¡Œä¸ºï¼Œåœ¨ç”Ÿæˆè¿‡ç¨‹ä¸­æ£€ç´¢å¹¶å‚è€ƒè®­ç»ƒé›†ä¸­çš„ Top-K ç›¸ä¼¼ç—…ä¾‹æŠ¥å‘Šï¼Œé™ä½æ¨¡å‹â€œå¹»è§‰â€ã€‚
* **å¼ºåŒ–å­¦ä¹ ä¼˜åŒ– (SCST)**ï¼šå¼•å…¥ Self-Critical Sequence Trainingï¼Œç›´æ¥é’ˆå¯¹ **BLEU** å’Œ **CIDEr** æŒ‡æ ‡è¿›è¡Œæ¢¯åº¦ä¼˜åŒ–ï¼Œè§£å†³è®­ç»ƒä¸æµ‹è¯•é˜¶æ®µçš„æš´éœ²åå·®é—®é¢˜ã€‚

## ğŸ“Š å®éªŒç»“æœ (IU X-Ray å…¬å¼€é›†)
ç»è¿‡ä¸‰é˜¶æ®µæ”¹è¿›ï¼Œæ¨¡å‹åœ¨å„é¡¹è‡ªç„¶è¯­è¨€ç”ŸæˆæŒ‡æ ‡ä¸Šå‡å–å¾—æ˜¾è‘—æå‡ï¼š

| æ¨¡å‹é˜¶æ®µ                      | BLEU-4     | METEOR     | ROUGE-L    |
| :---------------------------- | :--------- | :--------- | :--------- |
| Baseline (åŸå§‹å¤ç°)           | 0.1589     | 0.1795     | 0.3821     |
| **Retrieval + SCST (æœ¬é¡¹ç›®)** | **0.1661** | **0.2162** | **0.3803** |
| **ç›¸å¯¹ Baseline æå‡**        | **+45%**   | **+20%**   | **-**      |

*æ³¨ï¼šåœ¨è€å¸ˆæä¾›çš„ 43 å¼ ç›²æµ‹å›¾ç‰‡ç»„æˆçš„ç§æœ‰é›†ä¸Šï¼ŒBLEU-4 æŒ‡æ ‡ç›¸å¯¹ Baseline æå‡äº† **48%**ã€‚*

## ğŸ› ï¸ æŠ€æœ¯è·¯çº¿
1. **è¾“å…¥ X**ï¼šå›¾åƒå¼ é‡ (RGB Resized 224x224)
2. **è¾“å‡º Y**ï¼šè¯Šæ–­ç»“è®ºæ–‡æœ¬åºåˆ—
3. **ç¡¬ä»¶**ï¼šå•å¡ NVIDIA GeForce RTX 5090 (24GB) @ AutoDL
4. **æŸå¤±å‡½æ•°**ï¼šäº¤å‰ç†µ (CE) -> è‡ªä¸´ç•Œåºåˆ—è®­ç»ƒ (SCST)

## ğŸ“ èµ„æºå¯¼èˆª
* `docs/`: åŒ…å«æœ¬é¡¹ç›®è¯¦ç»†çš„ [é¡¹ç›®ç»“é¢˜æ±‡æŠ¥ PDF](./docs/åŒ»å­¦äººå·¥æ™ºèƒ½ç»“é¢˜æ±‡æŠ¥.pdf)ã€‚
* `results/`: åŒ…å«è®­ç»ƒè¿‡ç¨‹ Loss æ›²çº¿ã€æŒ‡æ ‡å¯¹æ¯”å›¾è¡¨åŠå…¸å‹ Case æ ·ä¾‹ã€‚

## ğŸ’• è‡´è°¢

This project is built upon the official implementation of **R2Gen**:
* **Original Paper**: [Cross-modal Memory Networks for Radiology Report Generation](https://arxiv.org/abs/2204.13258) 
* **Original Repository**: [zhjohnchan/R2Gen](https://github.com/zhjohnchan/R2Gen).

We sincerely thank the authors for their pioneering work and for open-sourcing their code, which served as the foundation for our research and enhancements (DenseNet backbone, Retrieval-RAG, and SCST optimization).

æœ¬é¡¹ç›®åŸºäº **R2Gen** çš„å®˜æ–¹å®ç°è¿›è¡Œå¼€å‘ï¼š
* æ„Ÿè°¢åŸä½œè€…åœ¨åŒ»å­¦å½±åƒæŠ¥å‘Šç”Ÿæˆé¢†åŸŸçš„å¼€åˆ›æ€§å·¥ä½œã€‚
* æˆ‘ä»¬åœ¨åŸä»£ç åº“çš„åŸºç¡€ä¸Šï¼Œé’ˆå¯¹åŒ»å­¦å…ˆéªŒçŸ¥è¯†ç»“åˆåŠæŒ‡æ ‡ä¼˜åŒ–ï¼Œå¼•å…¥äº† **DenseNet éª¨å¹²ç½‘ç»œ**ã€**æ£€ç´¢å¢å¼ºç”Ÿæˆ (RAG)** ä»¥åŠ **SCST å¼ºåŒ–å­¦ä¹ ç­–ç•¥**ã€‚

---

*æœ¬é¡¹ç›®ä¸ºã€ŠåŒ»å­¦äººå·¥æ™ºèƒ½ã€‹è¯¾ç¨‹æˆæœ*
